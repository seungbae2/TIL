# 도메인 계층

도메인 계층은 무엇인가?

- UI계층에서 사용되기 위한, 캡슐화 된 비즈니스 로직들을 모아 놓은 곳
- 도메인 계층의 비즈니스 로직은 UI 계층과는 다름

왜 나누어야 하는가?

- UI 계층과 데이터 계층 사이에 있는 책임들을 분리해줌 → Separation of Concerns
- 도메인 분리로 비즈니스의 규칙/전략의 변경이 타 계층에 영향을 주지 않음
- 코드 중복을 합리적으로 줄여줌
- 테스트 가능성 증진: 비즈니스 룰만을 격리해서 테스트 할 수 있음

도메인 레이어에서 하는 일

- 도메인 비즈니스 로직
    - UI와도, 데이터 계층과도 독립적인 비즈니스 로직
- 데이터의 변환
    - 데이터 계층을 통해 전달 받은 엔티티를, 앱의 도메인 관점에서 필요한 형태로 변환
- UI 레이어에서 중복 사용되는 공통 로직

왜 도메인 계층을 잘 설계하는 것이 중요한가?

- UI계층과 데이터 계층 사이의 미드필더가 없을 때 생기는 설계상의 문제 해결
- UI에 너무 집중하면
    - 화면중심적 사고
    - agile 프로세스가 오히려 좋은 설계를 방해하게 됨 → Java 프로젝트에서 흔히 발생하는 경우. 작업으로 정의된 backlog / feature 가 그대로 객체가 되는..
- 데이터 엔티티에만 집중하면
    - 도메인 계층과 데이터 계층을 데이터 스키마 중심으로 설계하는 것은 매우 전형적인 설계 오류

Insight

데이터 / 엔티티 중심의 사고로는 좋은 설계를 만들 수 없다.

오히려 정 반대로, 핵심 행위와 액터를 먼저 추상적인 형태로 만드는 것이 더 중요하다.

DDD란 무엇?

프로세스에 대한 깊은 지식을 담고 있는 도메인 모델과 도메인 규칙들의 개발을 중심에 놓는 개발 방법